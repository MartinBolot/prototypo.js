/**
 * @license almond 0.3.0 Copyright (c) 2011-2014, The Dojo Foundation All Rights Reserved.
 * Available via the MIT or new BSD license.
 * see: http://github.com/jrburke/almond for details
 */

(function(e,t){typeof define=="function"&&define.amd?define([],t):e.prototypo=t()})(this,function(){Object.mixin||(Object.mixin=function(e,t){var n=Object.getOwnPropertyNames(t),r,i,s=n.length;for(r=0;r<s;r++)i=Object.getOwnPropertyDescriptor(t,n[r]),Object.defineProperty(e,n[r],i);return e});var e,t,n;return function(r){function v(e,t){return h.call(e,t)}function m(e,t){var n,r,i,s,o,u,a,f,c,h,p,v=t&&t.split("/"),m=l.map,g=m&&m["*"]||{};if(e&&e.charAt(0)===".")if(t){v=v.slice(0,v.length-1),e=e.split("/"),o=e.length-1,l.nodeIdCompat&&d.test(e[o])&&(e[o]=e[o].replace(d,"")),e=v.concat(e);for(c=0;c<e.length;c+=1){p=e[c];if(p===".")e.splice(c,1),c-=1;else if(p===".."){if(c===1&&(e[2]===".."||e[0]===".."))break;c>0&&(e.splice(c-1,2),c-=2)}}e=e.join("/")}else e.indexOf("./")===0&&(e=e.substring(2));if((v||g)&&m){n=e.split("/");for(c=n.length;c>0;c-=1){r=n.slice(0,c).join("/");if(v)for(h=v.length;h>0;h-=1){i=m[v.slice(0,h).join("/")];if(i){i=i[r];if(i){s=i,u=c;break}}}if(s)break;!a&&g&&g[r]&&(a=g[r],f=c)}!s&&a&&(s=a,u=f),s&&(n.splice(0,u,s),e=n.join("/"))}return e}function g(e,t){return function(){var n=p.call(arguments,0);return typeof n[0]!="string"&&n.length===1&&n.push(null),s.apply(r,n.concat([e,t]))}}function y(e){return function(t){return m(t,e)}}function b(e){return function(t){a[e]=t}}function w(e){if(v(f,e)){var t=f[e];delete f[e],c[e]=!0,i.apply(r,t)}if(!v(a,e)&&!v(c,e))throw new Error("No "+e);return a[e]}function E(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function S(e){return function(){return l&&l.config&&l.config[e]||{}}}var i,s,o,u,a={},f={},l={},c={},h=Object.prototype.hasOwnProperty,p=[].slice,d=/\.js$/;o=function(e,t){var n,r=E(e),i=r[0];return e=r[1],i&&(i=m(i,t),n=w(i)),i?n&&n.normalize?e=n.normalize(e,y(t)):e=m(e,t):(e=m(e,t),r=E(e),i=r[0],e=r[1],i&&(n=w(i))),{f:i?i+"!"+e:e,n:e,pr:i,p:n}},u={require:function(e){return g(e)},exports:function(e){var t=a[e];return typeof t!="undefined"?t:a[e]={}},module:function(e){return{id:e,uri:"",exports:a[e],config:S(e)}}},i=function(e,t,n,i){var s,l,h,p,d,m=[],y=typeof n,E;i=i||e;if(y==="undefined"||y==="function"){t=!t.length&&n.length?["require","exports","module"]:t;for(d=0;d<t.length;d+=1){p=o(t[d],i),l=p.f;if(l==="require")m[d]=u.require(e);else if(l==="exports")m[d]=u.exports(e),E=!0;else if(l==="module")s=m[d]=u.module(e);else if(v(a,l)||v(f,l)||v(c,l))m[d]=w(l);else{if(!p.p)throw new Error(e+" missing "+l);p.p.load(p.n,g(i,!0),b(l),{}),m[d]=a[l]}}h=n?n.apply(a[e],m):undefined;if(e)if(s&&s.exports!==r&&s.exports!==a[e])a[e]=s.exports;else if(h!==r||!E)a[e]=h}else e&&(a[e]=n)},e=t=s=function(e,t,n,a,f){if(typeof e=="string")return u[e]?u[e](t):w(o(e,t).f);if(!e.splice){l=e,l.deps&&s(l.deps,l.callback);if(!t)return;t.splice?(e=t,t=n,n=null):e=r}return t=t||function(){},typeof n=="function"&&(n=a,a=f),a?i(r,e,t,n):setTimeout(function(){i(r,e,t,n)},4),s},s.config=function(e){return s(e)},e._defined=a,n=function(e,t,n){t.splice||(n=t,t=[]),!v(a,e)&&!v(f,e)&&(f[e]=[e,t,n])},n.amd={jQuery:!0}}(),n("../bower_components/almond/almond",function(){}),n("classes/Classify.js",[],function(){function e(){var e=arguments[0]!==void 0?arguments[0]:{};e.tags||(e.tags=[]);var t=this;this._tags=typeof e.tags=="string"?e.tags.split(" "):e.tags,this.type=e.type,this.tags={add:function(){Array.prototype.slice.call(arguments,0).forEach(function(e){t._tags.indexOf(e)===-1&&t._tags.push(e)})},remove:function(){Array.prototype.slice.call(arguments,0).forEach(function(e){var n=t._tags.indexOf(e);n!==-1&&t._tags.splice(n,1)})},has:function(){var e=!0;return Array.prototype.slice.call(arguments,0).forEach(function(n){t._tags.indexOf(n)===-1&&(e=!1)}),e}}}var t=e;return{get default(){return t},__esModule:!0}}),n("classes/Point.js",["./Classify.js"],function(e){function n(e,n){t.prototype.constructor.call(this),e===undefined||e===null?this.coords=new Float32Array([e,n]):e.constructor===Array||e.constructor===Float32Array?this.coords=new Float32Array(e):typeof e=="object"&&("x"in e||"y"in e)?this.coords=new Float32Array([e.x,e.y]):this.coords=new Float32Array([e,n])}if(!e||!e.__esModule)e={"default":e};var t=e.default;n.prototype=Object.create(t.prototype),n.prototype.constructor=n,Object.mixin(n.prototype,{get x(){return this.coords[0]},set x(e){this.coords[0]=e},get y(){return this.coords[1]},set y(e){this.coords[1]=e},set:function(e,t){this.coords[0]=e,this.coords[1]=t},transform:function(e){var t=this.coords[0];return this.coords[0]=e[0]*t+e[2]*this.coords[1]+e[4],this.coords[1]=e[1]*t+e[3]*this.coords[1]+e[5],this},toString:function(){return(isNaN(this.coords[0])?"NaN":Math.round(this.coords[0]))+" "+(isNaN(this.coords[1])?"NaN":Math.round(this.coords[1]))},toJSON:function(){return this.toString()},_:function(e,t){return e===undefined||e===null?(this.coords[0]=e,this.coords[1]=t):e.constructor===Array||e.constructor===Float32Array?(this.coords[0]=e[0],this.coords[1]=e[1]):typeof e=="object"&&("x"in e||"y"in e)?(this.coords[0]=e.x,this.coords[1]=e.y):(this.coords[0]=e,this.coords[1]=t),this},translate:function(e,t){var r=e instanceof n?e:new n(e,t);return isNaN(r.coords[0])||(this.coords[0]+=r.coords[0]),isNaN(r.coords[1])||(this.coords[1]+=r.coords[1]),this},translateX:function(e){return this.coords[0]+=e,this},translateY:function(e){return this.coords[1]+=e,this}}),n.prototype.onLine=function(e,t,n){var r=t,i=[n.x-t.x,n.y-t.y];e==="x"?this.coords[1]=(this.coords[0]-r.x)/i[0]*i[1]+r.y:this.coords[0]=(this.coords[1]-r.y)/i[1]*i[0]+r.x};var r=n;return{get default(){return r},__esModule:!0}}),n("classes/Node.js",["./Point.js"],function(e){function n(e){var n;if(e.x!==undefined||e.y!==undefined)n={x:e.x,y:e.y};t.prototype.constructor.apply(this,[n]),this.lCtrl=new t(e.lCtrl),this.lCtrl.tags.add("control"),this.rCtrl=new t(e.rCtrl),this.rCtrl.tags.add("control"),this.src=e.src}if(!e||!e.__esModule)e={"default":e};var t=e.default;n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.transform=function(e,t){var n=this.coords[0];return this.coords[0]=e[0]*n+e[2]*this.coords[1]+e[4],this.coords[1]=e[1]*n+e[3]*this.coords[1]+e[5],t&&(n=this.lCtrl.coords[0],this.lCtrl.coords[0]=e[0]*n+e[2]*this.lCtrl.coords[1]+e[4],this.lCtrl.coords[1]=e[1]*n+e[3]*this.lCtrl.coords[1]+e[5],n=this.rCtrl.coords[0],this.rCtrl.coords[0]=e[0]*n+e[2]*this.rCtrl.coords[1]+e[4],this.rCtrl.coords[1]=e[1]*n+e[3]*this.rCtrl.coords[1]+e[5]),this},n.prototype.update=function(e,t,n,r){for(var i in this.src){var s=this.src[i];if(typeof s=="object"&&s.updater){var o=[t,n,r];s.parameters.forEach(function(t){return o.push(e[t])}),this[i]=s.updater.apply({},o)}if(i==="onLine"){var u=this.src.x===undefined?"y":"x",a=r[this.src.onLine[0].operation.replace(/[^\d]/g,"")],f=r[this.src.onLine[1].operation.replace(/[^\d]/g,"")];this.onLine(u,a,f)}}};var r=n;return{get default(){return r},__esModule:!0}}),n("classes/Contour.js",["./Classify.js","./Node.js"],function(e,t){function i(){n.prototype.constructor.apply(this),this.nodes=[]}if(!e||!e.__esModule)e={"default":e};if(!t||!t.__esModule)t={"default":t};var n=e.default,r=t.default;i.prototype=Object.create(n.prototype),i.prototype.constructor=i,i.prototype.addNode=function(e){var t=new r(e);return this.nodes.push(t),t},i.prototype.transform=function(e){return this.nodes.forEach(function(t){return t.transform(e)}),this},i.prototype.link=function(){var e=this.nodes.length;e>1&&(this.nodes[0].prev=this.nodes[e-1],this.nodes[e-1].next=this.nodes[0]);while(e--)this.nodes[e+1]&&(this.nodes[e].next=this.nodes[e+1]),this.nodes[e-1]&&(this.nodes[e].prev=this.nodes[e-1])},i.prototype.update=function(e,t,n){var r=this;this.nodes.forEach(function(i){return i.update(e,t,n,r.nodes)})};var s=i;return{get default(){return s},__esModule:!0}}),n("classes/Glyph.js",["./Classify.js","./Contour.js"],function(e,t){function i(){n.prototype.constructor.apply(this),this.contours=[],this.anchors=[]}if(!e||!e.__esModule)e={"default":e};if(!t||!t.__esModule)t={"default":t};var n=e.default,r=t.default;i.prototype=Object.create(n.prototype),i.prototype.constructor=i,i.prototype.addContour=function(e){var t=new r(e);return this.contours.push(t),t},i.prototype.addAnchor=function(e){var t=new Node(e);return this.nodes.push(t),t},i.prototype.update=function(e){var t=this;this.anchors.forEach(function(n){return n.update(e,t.contours,t.anchors)}),this.contours.forEach(function(n){return n.update(e,t.contours,t.anchors)})};var s=i;return{get default(){return s},__esModule:!0}}),n("classes/Font.js",["./Glyph.js"],function(e){function n(){this.glyphs={}}if(!e||!e.__esModule)e={"default":e};var t=e.default;n.prototype.addGlyph=function(e,n){return this.glyphs[e]=new t(n)};var r=n;return{get default(){return r},__esModule:!0}}),n("font-builder.js",["./classes/Font.js"],function(e){function n(e){if(e.constructor===Object&&typeof e.operation=="string"){var t=["coutours","anchors","nodes"].concat(e.parameters).concat("return "+e.operation);return e.updater=Function.apply(null,t)}if(e.constructor===Object)for(var r in e)n(e[r]);e.constructor===Array&&e.forEach(function(e){return n(e)})}function r(e){var r=new t,i,s,o;for(i in e.glyphs)s=e.glyphs[i],o=r.addGlyph(i,s),s.anchor&&s.anchor.forEach(function(e){n(e),o.addAnchor({src:e})}),s.outline&&s.outline.contour&&s.outline.contour.forEach(function(e){var t=o.addContour(e);e.point.forEach(function(e){n(e),t.addNode(e)})});return r}if(!e||!e.__esModule)e={"default":e};var t=e.default,i={build:r,updater:n};return{get default(){return i},__esModule:!0}}),n("main",["./classes/Point.js","./classes/Node.js","./classes/Glyph.js","./classes/Contour.js","./font-builder.js"],function(e,t,n,r,i){if(!e||!e.__esModule)e={"default":e};if(!t||!t.__esModule)t={"default":t};if(!n||!n.__esModule)n={"default":n};if(!r||!r.__esModule)r={"default":r};if(!i||!i.__esModule)i={"default":i};var s=e.default,o=t.default,u=n.default,a=r.default,f=i.default;f.build.Point=s,f.build.Node=o,f.build.Contour=a,f.build.Glyph=u;var l=f.build;return{get default(){return l},__esModule:!0}}),t(["main"]),t("main").default});