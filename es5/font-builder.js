define(['./classes/Font.js'], function($__0) {
  "use strict";
  if (!$__0 || !$__0.__esModule)
    $__0 = {default: $__0};
  var Font = $__0.default;
  function createUpdaters(branch) {
    if (branch.constructor === Object && typeof branch.operation === 'string') {
      var args = ['coutours', 'anchors', 'nodes'].concat(branch.parameters).concat('return ' + branch.operation);
      return (branch.updater = Function.apply(null, args));
    }
    if (branch.constructor === Object) {
      for (var i in branch) {
        createUpdaters(branch[i]);
      }
    }
    if (branch.constructor === Array) {
      branch.forEach((function(subBranch) {
        return createUpdaters(subBranch);
      }));
    }
  }
  function builder(src) {
    var font = new Font(),
        name,
        glyphSrc,
        glyph;
    for (name in src.glyphs) {
      glyphSrc = src.glyphs[name];
      glyph = font.addGlyph(name, glyphSrc);
      glyphSrc.anchor && glyphSrc.anchor.forEach((function(anchorSrc) {
        createUpdaters(anchorSrc);
        glyph.addAnchor({src: anchorSrc});
      }));
      glyphSrc.outline && glyphSrc.outline.contour && glyphSrc.outline.contour.forEach((function(contourSrc) {
        var contour = glyph.addContour(contourSrc);
        contourSrc.point.forEach((function(pointSrc) {
          createUpdaters(pointSrc);
          contour.addNode(pointSrc);
        }));
      }));
    }
    return font;
  }
  var $__default = {
    build: builder,
    updater: createUpdaters
  };
  return {
    get default() {
      return $__default;
    },
    __esModule: true
  };
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkB0cmFjZXVyL2dlbmVyYXRlZC9UZW1wbGF0ZVBhcnNlci82IiwiZm9udC1idWlsZGVyLmpzIiwiQHRyYWNldXIvZ2VuZXJhdGVkL1RlbXBsYXRlUGFyc2VyLzUiLCJAdHJhY2V1ci9nZW5lcmF0ZWQvVGVtcGxhdGVQYXJzZXIvNCIsIkB0cmFjZXVyL2dlbmVyYXRlZC9UZW1wbGF0ZVBhcnNlci8wIiwiQHRyYWNldXIvZ2VuZXJhdGVkL1RlbXBsYXRlUGFyc2VyLzMiLCJAdHJhY2V1ci9nZW5lcmF0ZWQvVGVtcGxhdGVQYXJzZXIvMSIsIkB0cmFjZXVyL2dlbmVyYXRlZC9UZW1wbGF0ZVBhcnNlci8yIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLEtBQUssQUFBQyxFQ0lXLG1CQUFrQixFQ0puQyxVQUFTLElBQWdCOztBQ0F6QixLQUFJLEtBQWlCLEdBQUssRUFBQyxlQUEyQjtBQUMxQyxTQUFvQixFQUFDLE9BQU0sTUFBbUIsQ0FBQyxDQUFBO0FBQUEsSUZHcEQsS0FBRztBQUdWLFNBQVMsZUFBYSxDQUFHLE1BQUs7QUFDN0IsT0FBSyxNQUFLLFlBQVksSUFBTSxPQUFLLENBQUEsRUFBSyxDQUFBLE1BQU8sT0FBSyxVQUFVLENBQUEsR0FBTSxTQUFPLENBQUk7QUFDNUUsQUFBSSxRQUFBLENBQUEsSUFBRyxFQUFJLENBQUEsQ0FBQyxVQUFTLENBQUcsVUFBUSxDQUFHLFFBQU0sQ0FBQyxPQUNsQyxBQUFDLENBQUUsTUFBSyxXQUFXLENBQUUsT0FDckIsQUFBQyxDQUFFLFNBQVEsRUFBSSxDQUFBLE1BQUssVUFBVSxDQUFFLENBQUM7QUFFekMsV0FBTyxFQUFFLE1BQUssUUFBUSxFQUFJLENBQUEsUUFBTyxNQUFNLEFBQUMsQ0FBRSxJQUFHLENBQUcsS0FBRyxDQUFFLENBQUUsQ0FBQztJQUN6RDtBQUFBLEFBRUEsT0FBSyxNQUFLLFlBQVksSUFBTSxPQUFLLENBQUk7QUFDcEMsVUFBVSxHQUFBLENBQUEsQ0FBQSxDQUFBLEVBQUssT0FBSyxDQUFJO0FBQ3ZCLHFCQUFhLEFBQUMsQ0FBRSxNQUFLLENBQUUsQ0FBQSxDQUFDLENBQUUsQ0FBQztNQUM1QjtBQUFBLElBQ0Q7QUFBQSxBQUVBLE9BQUssTUFBSyxZQUFZLElBQU0sTUFBSSxDQUFJO0FBQ25DLFdBQUssUUFBUSxBQUFDLEVBQUMsU0FBQSxTQUFRO2FBQUssQ0FBQSxjQUFhLEFBQUMsQ0FBRSxTQUFRLENBQUU7TUFBQSxFQUFDLENBQUM7SUFDekQ7QUFBQSxFQUNEO0FBRUEsU0FBUyxRQUFNLENBQUcsR0FBRTtBQUNuQixBQUFJLE1BQUEsQ0FBQSxJQUFHLEVBQUksSUFBSSxLQUFHLEFBQUMsRUFBQztBQUNuQixXQUFHO0FBQ0gsZUFBTztBQUNQLFlBQUksQ0FBQztBQUVOLFFBQU0sSUFBRyxHQUFLLENBQUEsR0FBRSxPQUFPLENBQUk7QUFDMUIsYUFBTyxFQUFJLENBQUEsR0FBRSxPQUFPLENBQUUsSUFBRyxDQUFDLENBQUM7QUFFM0IsVUFBSSxFQUFJLENBQUEsSUFBRyxTQUFTLEFBQUMsQ0FBRSxJQUFHLENBQUcsU0FBTyxDQUFFLENBQUM7QUFFdkMsYUFBTyxPQUFPLEdBQ2QsQ0FBQSxRQUFPLE9BQU8sUUFBUSxBQUFDLEVBQUMsU0FBQSxTQUFRLENBQUs7QUFDcEMscUJBQWEsQUFBQyxDQUFFLFNBQVEsQ0FBRSxDQUFDO0FBRTNCLFlBQUksVUFBVSxBQUFDLENBQUMsQ0FBRSxHQUFFLENBQUcsVUFBUSxDQUFFLENBQUMsQ0FBQztNQUNwQyxFQUFDLENBQUM7QUFFRixhQUFPLFFBQVEsR0FDZixDQUFBLFFBQU8sUUFBUSxRQUFRLENBQUEsRUFDdkIsQ0FBQSxRQUFPLFFBQVEsUUFBUSxRQUFRLEFBQUMsRUFBQyxTQUFBLFVBQVM7QUFDekMsQUFBSSxVQUFBLENBQUEsT0FBTSxFQUFJLENBQUEsS0FBSSxXQUFXLEFBQUMsQ0FBRSxVQUFTLENBQUUsQ0FBQztBQUU1QyxpQkFBUyxNQUFNLFFBQVEsQUFBQyxFQUFDLFNBQUEsUUFBTyxDQUFLO0FBQ3BDLHVCQUFhLEFBQUMsQ0FBRSxRQUFPLENBQUUsQ0FBQztBQUUxQixnQkFBTSxRQUFRLEFBQUMsQ0FBRSxRQUFPLENBQUUsQ0FBQztRQUM1QixFQUFDLENBQUM7TUFHSCxFQUFDLENBQUM7SUFDSDtBQUFBLEFBRUEsU0FBTyxLQUFHLENBQUM7RUFDWjtBRzdEQSxBQUFJLElBQUEsQ0FBQSxVQUFTLEVIK0RFO0FBQ2QsUUFBSSxDQUFHLFFBQU07QUFDYixVQUFNLENBQUcsZUFBYTtBQUFBLEVHakVVLEFIa0VqQyxDR2xFaUM7QUNBakM7QUNBQSxnQkFBd0I7QUFBRSx1QkFBd0I7SUFBRTtBQ0FwRCxhQUFTLENBQUcsS0FBRztBQUFBLEdGQVE7QUhFbkIsQ0ZGdUMsQ0FBQztBQ2tFM0MiLCJmaWxlIjoiZm9udC1idWlsZGVyLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lKCRfX3BsYWNlaG9sZGVyX18wLCAkX19wbGFjZWhvbGRlcl9fMSk7IiwiLy8gVE9ETzogd2l0aG91dCB0aGlzIGZsYWcsIGl0IHNlZW1zIHRoYXQganNoaW50IGRvZXNuJ3QgbGlrZSBhcnJvdyBmdW5jdGlvbnMuXG4vLyBGaW5kIG91dCB3aGF0IHRoZSByZWFsIHByb2JsZW0gaXNcbi8qanNoaW50IC1XMDMwICovXG5cbmltcG9ydCBGb250IGZyb20gJy4vY2xhc3Nlcy9Gb250LmpzJztcbi8vIGltcG9ydCBHbHlwaCBmcm9tICcuL2NsYXNzZXMvR2x5cGguanMnO1xuXG5mdW5jdGlvbiBjcmVhdGVVcGRhdGVycyggYnJhbmNoICkge1xuXHRpZiAoIGJyYW5jaC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0ICYmIHR5cGVvZiBicmFuY2gub3BlcmF0aW9uID09PSAnc3RyaW5nJyApIHtcblx0XHR2YXIgYXJncyA9IFsnY291dG91cnMnLCAnYW5jaG9ycycsICdub2RlcyddXG5cdFx0XHRcdC5jb25jYXQoIGJyYW5jaC5wYXJhbWV0ZXJzIClcblx0XHRcdFx0LmNvbmNhdCggJ3JldHVybiAnICsgYnJhbmNoLm9wZXJhdGlvbiApO1xuXG5cdFx0cmV0dXJuICggYnJhbmNoLnVwZGF0ZXIgPSBGdW5jdGlvbi5hcHBseSggbnVsbCwgYXJncyApICk7XG5cdH1cblxuXHRpZiAoIGJyYW5jaC5jb25zdHJ1Y3RvciA9PT0gT2JqZWN0ICkge1xuXHRcdGZvciAoIHZhciBpIGluIGJyYW5jaCApIHtcblx0XHRcdGNyZWF0ZVVwZGF0ZXJzKCBicmFuY2hbaV0gKTtcblx0XHR9XG5cdH1cblxuXHRpZiAoIGJyYW5jaC5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgKSB7XG5cdFx0YnJhbmNoLmZvckVhY2goc3ViQnJhbmNoID0+IGNyZWF0ZVVwZGF0ZXJzKCBzdWJCcmFuY2ggKSk7XG5cdH1cbn1cblxuZnVuY3Rpb24gYnVpbGRlciggc3JjICkge1xuXHR2YXIgZm9udCA9IG5ldyBGb250KCksXG5cdFx0bmFtZSxcblx0XHRnbHlwaFNyYyxcblx0XHRnbHlwaDtcblxuXHRmb3IgKCBuYW1lIGluIHNyYy5nbHlwaHMgKSB7XG5cdFx0Z2x5cGhTcmMgPSBzcmMuZ2x5cGhzW25hbWVdO1xuXG5cdFx0Z2x5cGggPSBmb250LmFkZEdseXBoKCBuYW1lLCBnbHlwaFNyYyApO1xuXG5cdFx0Z2x5cGhTcmMuYW5jaG9yICYmXG5cdFx0Z2x5cGhTcmMuYW5jaG9yLmZvckVhY2goYW5jaG9yU3JjID0+IHtcblx0XHRcdGNyZWF0ZVVwZGF0ZXJzKCBhbmNob3JTcmMgKTtcblxuXHRcdFx0Z2x5cGguYWRkQW5jaG9yKHsgc3JjOiBhbmNob3JTcmMgfSk7XG5cdFx0fSk7XG5cblx0XHRnbHlwaFNyYy5vdXRsaW5lICYmXG5cdFx0Z2x5cGhTcmMub3V0bGluZS5jb250b3VyICYmXG5cdFx0Z2x5cGhTcmMub3V0bGluZS5jb250b3VyLmZvckVhY2goY29udG91clNyYyA9PiB7XG5cdFx0XHR2YXIgY29udG91ciA9IGdseXBoLmFkZENvbnRvdXIoIGNvbnRvdXJTcmMgKTtcblxuXHRcdFx0Y29udG91clNyYy5wb2ludC5mb3JFYWNoKHBvaW50U3JjID0+IHtcblx0XHRcdFx0Y3JlYXRlVXBkYXRlcnMoIHBvaW50U3JjICk7XG5cblx0XHRcdFx0Y29udG91ci5hZGROb2RlKCBwb2ludFNyYyApO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIFRPRE86IGNoZWNrIGlmIGNvdW50b3VyIGlzIG9wZW4gb3IgY2xvc2VkXG5cdFx0fSk7XG5cdH1cblxuXHRyZXR1cm4gZm9udDtcbn1cblxuZXhwb3J0IGRlZmF1bHQge1xuXHRidWlsZDogYnVpbGRlcixcblx0dXBkYXRlcjogY3JlYXRlVXBkYXRlcnNcbn07IiwiZnVuY3Rpb24oJF9fcGxhY2Vob2xkZXJfXzApIHtcbiAgICAgICRfX3BsYWNlaG9sZGVyX18xXG4gICAgfSIsImlmICghJF9fcGxhY2Vob2xkZXJfXzAgfHwgISRfX3BsYWNlaG9sZGVyX18xLl9fZXNNb2R1bGUpXG4gICAgICAgICAgICAkX19wbGFjZWhvbGRlcl9fMiA9IHtkZWZhdWx0OiAkX19wbGFjZWhvbGRlcl9fM30iLCJ2YXIgJF9fZGVmYXVsdCA9ICRfX3BsYWNlaG9sZGVyX18wIiwicmV0dXJuICRfX3BsYWNlaG9sZGVyX18wIiwiZ2V0ICRfX3BsYWNlaG9sZGVyX18wKCkgeyByZXR1cm4gJF9fcGxhY2Vob2xkZXJfXzE7IH0iLCJfX2VzTW9kdWxlOiB0cnVlIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9